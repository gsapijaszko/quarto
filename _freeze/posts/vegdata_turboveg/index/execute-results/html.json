{
  "hash": "8f70d612902a7d65c336c047e79ffdb5",
  "result": {
    "markdown": "---\ntitle: \"Vegdata package and descriptive statistics\"\ndescription: |\n  A short introduction to vegdata package, accessing Turboveg database and plots analysis.\nauthor:\n  - name: Grzegorz Sapijaszko\n    url: http://www.sapijaszko.net/glupotki\ndate: \"2022-01-20\"\nbibliography: ../../references.bib\ncategories: [R, vegdata, turboveg, vegetation]\ndraft: true\n---\n\n\n\n\n## Introduction\n\n**Turboveg for Windows**\\index{\\textbf{Turboveg}}[^1] is a program designed for the storage, selection, and export of vegetation data (relevés). For more information please refer to @hennekensTURBOVEGComprehensiveData2001 and/or author's [homepage](https://www.synbiosys.alterra.nl/turboveg/).\n\n[^1]: Currently using `Turboveg for Windows 2.155` available from [author's website](https://www.synbiosys.alterra.nl/turboveg/)\n\nPlease note: **Turboveg** uses **dBase** database file system for storing the observations. Please use `Pack & Reindex` option from the `Database` menu. In fact, it purges (deletes) all marked for deletion records from the database. It's essential to do it as a routine when you modify/delete the species from your plots. Otherwise it will be still in the database, and visible to **R**.\n\nIn this example we will get the data from **Turboveg**, prepare vegetation matrix, compute few indices and plot them.\n\n## Data access and preparation\n\nFor data access we will use `vegdata` package [@vegdata2010]. It handles vegetation data from different sources, including **Turboveg** and allows to run taxonomic harmonization with appropriate taxonomic list. **Turboveg** provides different abundance codes lists, which can be also extended by user. Data is stored in `tvscale.dbf` file. To perform vegetation analysis a kind of mapping between abundance codes and numerical values is required. For this purpose the data base file contain the mean cover percentage values. `vegdata` provides a `tv.coverperc` function for automatic conversion. For example, the often used Braun--Blanquet scale @braun-blanquet_pflanzensoziologie_1964 is shown in table @tbl-bbT.\n\n\n::: {#tbl-bbT .cell tbl-cap='caption = \"Modified Braun-Blanquet (old) scale\")'}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> Scale </th>\n   <th style=\"text-align:center;\"> Meaning </th>\n   <th style=\"text-align:center;\"> Mean coverage [%] </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;\"> r </td>\n   <td style=\"text-align:center;\"> very few individuals </td>\n   <td style=\"text-align:center;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> $+$ </td>\n   <td style=\"text-align:center;\"> few individuals </td>\n   <td style=\"text-align:center;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> numerous individuals </td>\n   <td style=\"text-align:center;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 2 </td>\n   <td style=\"text-align:center;\"> 5 -- 25 % </td>\n   <td style=\"text-align:center;\"> 13 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 3 </td>\n   <td style=\"text-align:center;\"> 25 -- 50 % </td>\n   <td style=\"text-align:center;\"> 38 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 4 </td>\n   <td style=\"text-align:center;\"> 50 -- 75 % </td>\n   <td style=\"text-align:center;\"> 68 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 5 </td>\n   <td style=\"text-align:center;\"> 75 -- 100 % </td>\n   <td style=\"text-align:center;\"> 88 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> x </td>\n   <td style=\"text-align:center;\"> few individuals </td>\n   <td style=\"text-align:center;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> A </td>\n   <td style=\"text-align:center;\"> No presence </td>\n   <td style=\"text-align:center;\"> 0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nIn addition to abundance scale, **Turboveg** provides additional column for separation of growth form like trees, shrubs, herbs, etc. Layers and corresponding numbers are shown in table @tbl-layers.\n\nThere is a possibility to add additional fields to the database as well, where other attributes like micro location, flowering status, development status etc. can be stored. For analysis of these different species-plot attributes `vegdata` provides `tv.veg` function.\n\n\n::: {#tbl-layers .cell tbl-cap='Turboveg layers definition'}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:center;\"> Layer number </th>\n   <th style=\"text-align:center;\"> Description </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:center;\"> 0 </td>\n   <td style=\"text-align:center;\"> No layer </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> Tree layer (high) (t1) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 2 </td>\n   <td style=\"text-align:center;\"> Tree layer -middle- (t2) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 3 </td>\n   <td style=\"text-align:center;\"> Tree layer -low- (t3) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 4 </td>\n   <td style=\"text-align:center;\"> Shrub layer (high) (s1) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 5 </td>\n   <td style=\"text-align:center;\"> Shrub layer -low- (s2) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 6 </td>\n   <td style=\"text-align:center;\"> Herb layer (hl) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 7 </td>\n   <td style=\"text-align:center;\"> Juvenile (jl) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 8 </td>\n   <td style=\"text-align:center;\"> Seedling (&lt;1 year) (sl) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:center;\"> 9 </td>\n   <td style=\"text-align:center;\"> Moss layer (ml) </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nLet's load the library into R environment as usuall.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(vegdata)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: foreign\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nRegistered S3 method overwritten by 'hoardr':\n  method           from\n  print.cache_info httr\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThis is vegdata 0.9.11.3 - build: 2022-06-15\n```\n:::\n:::\n\n\nAs the `vegdata` internal functions extensively uses the directory structure of **Turboveg** the first thing is to set `tv_home`. `vegdata` package provides `tv.home()` function for it, which tries to find **Turboveg** installation path.[^2]\n\n[^2]: It works for Windows, and Unix/Linux with `wine.`\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntv.home()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n############################################################\nTurboveg root directory is set to \"/home/sapi/.wine/drive_c/Turbowin\"\nIf you want to change this use: options(tv_home=\"<path_to_your_Turbowin_root>\")\n############################################################\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n# As dBase is an old DOS format, characters in Turboveg have been stored using the CP437 code table.\n# This has been changed and Turboveg seems to use a country specific code page now.\n# Please change getOptions('tv.iconv') if you run into problems.\n```\n:::\n:::\n\n\nIf you would like to change it, please declare it by setting `tv_home`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(tv_home=\"path_to_your_Turboveg_root_directory\")\n```\n:::\n\n\n![](thumbnail.jpg)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}